/**
 * –ï–î–ò–ù–ê–Ø –ë–ê–ó–ê –î–ê–ù–ù–´–• –î–õ–Ø –ù–û–†–í–ï–ñ–°–ö–û–ì–û –ê–°–°–ò–°–¢–ï–ù–¢–ê
 * –í—Å–µ –¥–∞–Ω–Ω—ã–µ –≤ –æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ –¥–ª—è –ø—Ä–æ—Å—Ç–æ–≥–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
 */

const NORWEGIAN_DATABASE = {
    
    // ================================================
    // –ü–ï–†–ï–í–û–î–´ –° –†–£–°–°–ö–û–ì–û –ù–ê –ù–û–†–í–ï–ñ–°–ö–ò–ô
    // ================================================
    translations: {
        "–ø—Ä–∏–≤–µ—Ç": "hei",
        "—Å–ø–∞—Å–∏–±–æ": "takk",
        "–ø–æ–∂–∞–ª—É–π—Å—Ç–∞": "tusen takk",
        "–∏–∑–≤–∏–Ω–∏—Ç–µ": "unnskyld",
        "–¥–æ —Å–≤–∏–¥–∞–Ω–∏—è": "ha det",
        "–¥–æ–±—Ä–æ–µ —É—Ç—Ä–æ": "god morgen",
        "–¥–æ–±—Ä—ã–π –¥–µ–Ω—å": "god dag",
        "–¥–æ–±—Ä–∞—è –Ω–æ—á—å": "god natt",
        "–∫–∞–∫ –¥–µ–ª–∞?": "hvordan har du det?",
        "–∫–∞–∫ —Ç–µ–±—è –∑–æ–≤—É—Ç?": "hva heter du?",
        "–º–µ–Ω—è –∑–æ–≤—É—Ç": "jeg heter",
        "—è –Ω–µ –ø–æ–Ω–∏–º–∞—é": "jeg forst√•r ikke",
        "–≥–æ–≤–æ—Ä–∏—Ç–µ –º–µ–¥–ª–µ–Ω–Ω–µ–µ": "snakk saktere",
        "–≥–¥–µ —Ç—É–∞–ª–µ—Ç?": "hvor er toalettet?",
        "—Å–∫–æ–ª—å–∫–æ —ç—Ç–æ —Å—Ç–æ–∏—Ç?": "hvor mye koster det?",
        "—è —Ö–æ—á—É": "jeg vil ha",
        "—Ç–µ—Å—Ç_–∏–∑–º–µ–Ω–µ–Ω–∏–µ": "–ï–î–ò–ù–ê–Ø_–ë–ê–ó–ê_–†–ê–ë–û–¢–ê–ï–¢_–ò–î–ï–ê–õ–¨–ù–û",
        "–º–Ω–µ –Ω—É–∂–Ω–æ": "jeg trenger",
        "–ø–æ–º–æ–≥–∏—Ç–µ": "hjelp",
        "–≤–æ–¥–∞": "vann",
        "–µ–¥–∞": "mat",
        "–¥–æ–º": "hus",
        "—Ä–∞–±–æ—Ç–∞": "arbeid",
        "—Å–µ–º—å—è": "familie",
        "–¥—Ä—É–≥": "venn",
        "–≤—Ä–µ–º—è": "tid",
        "–¥–µ–Ω—å": "dag",
        "–Ω–æ—á—å": "natt",
        "–∫—Ä–∞—Å–∏–≤—ã–π": "vakker",
        "—Ö–æ—Ä–æ—à–∏–π": "bra",
        "–ø–ª–æ—Ö–æ–π": "d√•rlig",
        "–±–æ–ª—å—à–æ–π": "stor",
        "–º–∞–ª–µ–Ω—å–∫–∏–π": "liten"
    },
    
    // ================================================
    // –†–ê–ó–ì–û–í–û–†–ù–´–ï –§–†–ê–ó–´ –î–õ–Ø –û–ë–©–ï–ù–ò–Ø
    // ================================================
    conversations: {
        greetings: [
            "–ü—Ä–∏–≤–µ—Ç! –Ø –ø–æ–º–æ–≥–∞—é –∏–∑—É—á–∞—Ç—å –Ω–æ—Ä–≤–µ–∂—Å–∫–∏–π —è–∑—ã–∫.eeeeeeeeeeeee",
            "–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –ß–µ–º –º–æ–≥—É –ø–æ–º–æ—á—å –≤ –∏–∑—É—á–µ–Ω–∏–∏ –Ω–æ—Ä–≤–µ–∂—Å–∫–æ–≥–æ?eeeeeeeeeeeeee",
            "–ü—Ä–∏–≤–µ—Ç! –ì–æ—Ç–æ–≤ –ø–æ–º–æ—á—å —Å –ø–µ—Ä–µ–≤–æ–¥–∞–º–∏ –∏ –Ω–æ–≤—ã–º–∏ —Å–ª–æ–≤–∞–º–∏.eeeeeeeeeeeeee"
        ],
        
        help: [
            "–Ø –º–æ–≥—É –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—å —Å–ª–æ–≤–∞ —Å —Ä—É—Å—Å–∫–æ–≥–æ –Ω–∞ –Ω–æ—Ä–≤–µ–∂—Å–∫–∏–π.",
            "–°–ø—Ä–æ—Å–∏—Ç–µ –º–µ–Ω—è –ª—é–±–æ–µ —Å–ª–æ–≤–æ –∏–ª–∏ —Ñ—Ä–∞–∑—É –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–∞.",
            "–ú–æ–≥—É –¥–∞—Ç—å —Å–ª—É—á–∞–π–Ω–æ–µ –Ω–æ—Ä–≤–µ–∂—Å–∫–æ–µ —Å–ª–æ–≤–æ –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è.",
            "–ü–æ–º–æ–≥—É —Å –±–∞–∑–æ–≤–æ–π –Ω–æ—Ä–≤–µ–∂—Å–∫–æ–π –ª–µ–∫—Å–∏–∫–æ–π."
        ],
        
        thanks: [
            "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞! –í—Å–µ–≥–¥–∞ —Ä–∞–¥ –ø–æ–º–æ—á—å —Å –Ω–æ—Ä–≤–µ–∂—Å–∫–∏–º.",
            "–ù–µ –∑–∞ —á—Ç–æ! –ü—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ –∏–∑—É—á–∞—Ç—å –Ω–æ—Ä–≤–µ–∂—Å–∫–∏–π!",
            "–†–∞–¥ –ø–æ–º–æ—á—å! –°–ø—Ä–∞—à–∏–≤–∞–π—Ç–µ –µ—â–µ."
        ],
        
        unknown: [
            "–ò–∑–≤–∏–Ω–∏—Ç–µ, –Ω–µ –Ω–∞—à–µ–ª –ø–µ—Ä–µ–≤–æ–¥ —ç—Ç–æ–≥–æ —Å–ª–æ–≤–∞.",
            "–≠—Ç–æ–≥–æ —Å–ª–æ–≤–∞ –ø–æ–∫–∞ –Ω–µ—Ç –≤ –º–æ–µ–π –±–∞–∑–µ.",
            "–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥–æ–µ —Å–ª–æ–≤–æ –∏–ª–∏ —Ñ—Ä–∞–∑—É.",
            "–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ø–æ–ª–Ω—è–µ—Ç—Å—è, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ."
        ]
    },
    
    // ================================================
    // –ù–û–†–í–ï–ñ–°–ö–ê–Ø –õ–ï–ö–°–ò–ö–ê –ü–û –ö–ê–¢–ï–ì–û–†–ò–Ø–ú
    // ================================================
    vocabulary: {
        basic: {
            "jeg": "—è",
            "du": "—Ç—ã",
            "han": "–æ–Ω", 
            "hun": "–æ–Ω–∞",
            "vi": "–º—ã",
            "dere": "–≤—ã",
            "de": "–æ–Ω–∏"
        },
        
        family: {
            "mor": "–º–∞—Ç—å",
            "far": "–æ—Ç–µ—Ü",
            "s√∏nn": "—Å—ã–Ω",
            "datter": "–¥–æ—á—å",
            "bror": "–±—Ä–∞—Ç",
            "s√∏ster": "—Å–µ—Å—Ç—Ä–∞"
        },
        
        numbers: {
            "en": "–æ–¥–∏–Ω",
            "to": "–¥–≤–∞", 
            "tre": "—Ç—Ä–∏",
            "fire": "—á–µ—Ç—ã—Ä–µ",
            "fem": "–ø—è—Ç—å",
            "seks": "—à–µ—Å—Ç—å",
            "syv": "—Å–µ–º—å",
            "√•tte": "–≤–æ—Å–µ–º—å",
            "ni": "–¥–µ–≤—è—Ç—å",
            "ti": "–¥–µ—Å—è—Ç—å"
        }
    }
};

/**
 * –ì–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –ø–æ–∏—Å–∫–∞ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
 */
function searchInDatabase(query) {
    const lowerQuery = query.toLowerCase().trim();
    
    console.log('üîç –ò—â—É –≤ –µ–¥–∏–Ω–æ–π –±–∞–∑–µ:', lowerQuery);
    
    // 1. –ü–æ–∏—Å–∫ –ø—Ä—è–º–æ–≥–æ –ø–µ—Ä–µ–≤–æ–¥–∞
    if (NORWEGIAN_DATABASE.translations[lowerQuery]) {
        const translation = NORWEGIAN_DATABASE.translations[lowerQuery];
        console.log('‚úÖ –ù–∞–π–¥–µ–Ω –ø–µ—Ä–µ–≤–æ–¥:', translation);
        return `üá∑üá∫ **${lowerQuery}** ‚Üí üá≥üá¥ **${translation}**`;
    }
    
    // 2. –ü–æ–∏—Å–∫ —á–∞—Å—Ç–∏—á–Ω–æ–≥–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è –≤ –ø–µ—Ä–µ–≤–æ–¥–∞—Ö
    for (const [russian, norwegian] of Object.entries(NORWEGIAN_DATABASE.translations)) {
        if (russian.includes(lowerQuery) || lowerQuery.includes(russian)) {
            console.log('‚úÖ –ù–∞–π–¥–µ–Ω–æ —á–∞—Å—Ç–∏—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ:', norwegian);
            return `üá∑üá∫ **${russian}** ‚Üí üá≥üá¥ **${norwegian}**`;
        }
    }
    
    // 3. –ü–æ–∏—Å–∫ –≤ —Å–ª–æ–≤–∞—Ä–µ (–Ω–æ—Ä–≤–µ–∂—Å–∫–∏–π ‚Üí —Ä—É—Å—Å–∫–∏–π)
    for (const category of Object.values(NORWEGIAN_DATABASE.vocabulary)) {
        for (const [norwegian, russian] of Object.entries(category)) {
            if (norwegian.toLowerCase() === lowerQuery) {
                console.log('‚úÖ –ù–∞–π–¥–µ–Ω–æ –≤ —Å–ª–æ–≤–∞—Ä–µ:', russian);
                return `üá≥üá¥ **${norwegian}** ‚Üí üá∑üá∫ **${russian}**`;
            }
        }
    }
    
    console.log('‚ùå –ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ');
    return null;
}

/**
 * –ü–æ–ª—É—á–∏—Ç—å —Å–ª—É—á–∞–π–Ω–æ–µ –Ω–æ—Ä–≤–µ–∂—Å–∫–æ–µ —Å–ª–æ–≤–æ
 */
function getRandomWord() {
    const translations = Object.entries(NORWEGIAN_DATABASE.translations);
    const randomPair = translations[Math.floor(Math.random() * translations.length)];
    return `üá≥üá¥ **${randomPair[1]}** ‚Äî ${randomPair[0]}\n\nüí° –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–æ —Å–ª–æ–≤–æ –≤ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–∏!`;
}

/**
 * –ü–æ–ª—É—á–∏—Ç—å —Ä–∞–∑–≥–æ–≤–æ—Ä–Ω—É—é —Ñ—Ä–∞–∑—É
 */
function getConversationResponse(type) {
    const responses = NORWEGIAN_DATABASE.conversations[type];
    if (responses && responses.length > 0) {
        return responses[Math.floor(Math.random() * responses.length)];
    }
    return null;
}

console.log('‚úÖ –ï–¥–∏–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∑–∞–≥—Ä—É–∂–µ–Ω–∞:', Object.keys(NORWEGIAN_DATABASE.translations).length, '–ø–µ—Ä–µ–≤–æ–¥–æ–≤');
